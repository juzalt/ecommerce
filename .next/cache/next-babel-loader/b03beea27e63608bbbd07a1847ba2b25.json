{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setDiscount, setFinalPrice } from '../store';\n\nclass Discount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: \"\",\n      validationCode: false,\n      validationCodeMessage: \"\",\n      discountPercentage: 0,\n      final_price: 0,\n      amount_discounted: 0\n    };\n  }\n\n  handleChange(e) {\n    this.setState({\n      input: e.target.value\n    });\n  }\n\n  handleClick() {\n    const discountPercentage = this.state.discountPercentage;\n    const {\n      dispatch\n    } = this.props;\n\n    switch (this.state.input) {\n      case \"courseit2019\":\n        this.setState((state, props) => ({\n          validationCodeMessage: \"Código aplicado!\",\n          validationCode: true,\n          discountPercentage: 10,\n          amount_discounted: discountPercentage * props.basePrice / 100,\n          final_price: props.basePrice - state.amount_discounted\n        }), () => {\n          dispatch(setDiscount(this.state.discountPercentage)), dispatch(setFinalPrice(this.state.final_price)), console.log(this.state, \"whole state\"), console.log(this.props.base_price, \"base price\");\n        });\n        break;\n\n      case \"\":\n        this.setState({\n          validationCodeMessage: \"Debes escribir un código\",\n          validationCode: false\n        });\n        break;\n\n      default:\n        this.setState({\n          validationCodeMessage: \"Código inválido\",\n          validationCode: false\n        });\n        break;\n    }\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(\"label\", {\n      className: \"jsx-3536665263\"\n    }, __jsx(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"C\\xF3digo de descuento\",\n      onChange: e => this.handleChange(e),\n      className: \"jsx-3536665263\" + \" \" + \"couponValidationForm\"\n    })), __jsx(\"button\", {\n      title: \"Aplicar\",\n      onClick: e => this.handleClick(e),\n      className: \"jsx-3536665263\" + \" \" + \"button\"\n    }), __jsx(\"p\", {\n      className: \"jsx-3536665263\"\n    }, this.state.validationCodeMessage), __jsx(_JSXStyle, {\n      id: \"3536665263\"\n    }, \".button.jsx-3536665263{width:5em;height:4em;color:beige;font-weight:bold;background-color:#157be4;border-color:#157be4;border-width:0;}.couponValidationForm.jsx-3536665263{height:4em;border-width:1px;padding:0 0 0 1em;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3p4bHRybi9Eb2N1bWVudHMvY29kZS9jb3Vyc2VpdC9lY29tbWVyY2UvY29tcG9uZW50cy9kaXNjb3VudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE4RFMsQUFHdUIsQUFTQyxVQVJBLENBU00sVUFSTCxPQVNNLEtBUkQsYUFTbkIsSUFSMkIseUJBQ0oscUJBQ04sZUFDakIiLCJmaWxlIjoiL2hvbWUvenhsdHJuL0RvY3VtZW50cy9jb2RlL2NvdXJzZWl0L2Vjb21tZXJjZS9jb21wb25lbnRzL2Rpc2NvdW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IHNldERpc2NvdW50LCBzZXRGaW5hbFByaWNlIH0gZnJvbSAnLi4vc3RvcmUnO1xuXG5cbmNsYXNzIERpc2NvdW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlucHV0OiBcIlwiLFxuICAgICAgdmFsaWRhdGlvbkNvZGU6IGZhbHNlLFxuICAgICAgdmFsaWRhdGlvbkNvZGVNZXNzYWdlOiBcIlwiLFxuICAgICAgZGlzY291bnRQZXJjZW50YWdlOiAwLFxuICAgICAgZmluYWxfcHJpY2U6IDAsXG4gICAgICBhbW91bnRfZGlzY291bnRlZDogMFxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNoYW5nZShlKXtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlucHV0OiBlLnRhcmdldC52YWx1ZVxuICAgIH0pXG4gIH1cbiAgXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIGNvbnN0IGRpc2NvdW50UGVyY2VudGFnZSA9IHRoaXMuc3RhdGUuZGlzY291bnRQZXJjZW50YWdlO1xuICAgIGNvbnN0IHtkaXNwYXRjaH0gPSB0aGlzLnByb3BzXG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLmlucHV0KSB7XG4gICAgICBjYXNlIFwiY291cnNlaXQyMDE5XCI6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlLCBwcm9wcykgPT4gKHtcbiAgICAgICAgICB2YWxpZGF0aW9uQ29kZU1lc3NhZ2U6IFwiQ8OzZGlnbyBhcGxpY2FkbyFcIixcbiAgICAgICAgICB2YWxpZGF0aW9uQ29kZTogdHJ1ZSxcbiAgICAgICAgICBkaXNjb3VudFBlcmNlbnRhZ2U6IDEwLFxuICAgICAgICAgIGFtb3VudF9kaXNjb3VudGVkOiBkaXNjb3VudFBlcmNlbnRhZ2UgKiBwcm9wcy5iYXNlUHJpY2UgLyAxMDAsXG4gICAgICAgICAgZmluYWxfcHJpY2U6IHByb3BzLmJhc2VQcmljZSAtIHN0YXRlLmFtb3VudF9kaXNjb3VudGVkXG4gICAgICAgIH0pLCAoKSA9PiB7ZGlzcGF0Y2goc2V0RGlzY291bnQodGhpcy5zdGF0ZS5kaXNjb3VudFBlcmNlbnRhZ2UpKSwgZGlzcGF0Y2goc2V0RmluYWxQcmljZSh0aGlzLnN0YXRlLmZpbmFsX3ByaWNlKSksIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUsIFwid2hvbGUgc3RhdGVcIiksIGNvbnNvbGUubG9nKHRoaXMucHJvcHMuYmFzZV9wcmljZSwgXCJiYXNlIHByaWNlXCIpfSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiXCI6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHZhbGlkYXRpb25Db2RlTWVzc2FnZTogXCJEZWJlcyBlc2NyaWJpciB1biBjw7NkaWdvXCIsXG4gICAgICAgICAgdmFsaWRhdGlvbkNvZGU6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdmFsaWRhdGlvbkNvZGVNZXNzYWdlOiBcIkPDs2RpZ28gaW52w6FsaWRvXCIsXG4gICAgICAgICAgdmFsaWRhdGlvbkNvZGU6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpe1xuICAgIHJldHVybihcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiY291cG9uVmFsaWRhdGlvbkZvcm1cIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJuYW1lXCIgcGxhY2Vob2xkZXI9XCJDw7NkaWdvIGRlIGRlc2N1ZW50b1wiIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5oYW5kbGVDaGFuZ2UoZSl9IC8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIHRpdGxlPVwiQXBsaWNhclwiIG9uQ2xpY2s9eyhlKSA9PiB0aGlzLmhhbmRsZUNsaWNrKGUpfSAvPlxuICAgICAgICAgIDxwPnt0aGlzLnN0YXRlLnZhbGlkYXRpb25Db2RlTWVzc2FnZX08L3A+XG4gICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgIHtgXG4gICAgICAgICAgLmJ1dHRvbntcbiAgICAgICAgICAgIHdpZHRoOiA1ZW07XG4gICAgICAgICAgICBoZWlnaHQ6IDRlbTtcbiAgICAgICAgICAgIGNvbG9yOiBiZWlnZTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzE1N2JlNDtcbiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzE1N2JlNDtcbiAgICAgICAgICAgIGJvcmRlci13aWR0aDogMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmNvdXBvblZhbGlkYXRpb25Gb3Jte1xuICAgICAgICAgICAgaGVpZ2h0OiA0ZW07XG4gICAgICAgICAgICBib3JkZXItd2lkdGg6IDFweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgMCAwIDFlbTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICAgPC9zdHlsZT5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKVxuICB9XG59XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSl7XG4gIHJldHVybiB7XG4gICAgYmFzZVByaWNlOiBzdGF0ZS5wcm9kdWN0Q2FydC5iYXNlX3ByaWNlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKERpc2NvdW50KTsiXX0= */\\n/*@ sourceURL=/home/zxltrn/Documents/code/courseit/ecommerce/components/discount.js */\"));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    basePrice: state.productCart.base_price\n  };\n}\n\nexport default connect(mapStateToProps)(Discount);","map":{"version":3,"sources":["/home/zxltrn/Documents/code/courseit/ecommerce/components/discount.js"],"names":["React","connect","setDiscount","setFinalPrice","Discount","Component","constructor","props","state","input","validationCode","validationCodeMessage","discountPercentage","final_price","amount_discounted","handleChange","e","setState","target","value","handleClick","dispatch","basePrice","console","log","base_price","render","mapStateToProps","productCart"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux'\nimport { setDiscount, setFinalPrice } from '../store';\n\n\nclass Discount extends React.Component {\n  constructor(props){\n    super(props)\n\n    this.state = {\n      input: \"\",\n      validationCode: false,\n      validationCodeMessage: \"\",\n      discountPercentage: 0,\n      final_price: 0,\n      amount_discounted: 0\n    }\n  }\n\n  handleChange(e){\n    this.setState({\n      input: e.target.value\n    })\n  }\n  \n  handleClick() {\n    const discountPercentage = this.state.discountPercentage;\n    const {dispatch} = this.props\n    switch (this.state.input) {\n      case \"courseit2019\":\n        this.setState((state, props) => ({\n          validationCodeMessage: \"Código aplicado!\",\n          validationCode: true,\n          discountPercentage: 10,\n          amount_discounted: discountPercentage * props.basePrice / 100,\n          final_price: props.basePrice - state.amount_discounted\n        }), () => {dispatch(setDiscount(this.state.discountPercentage)), dispatch(setFinalPrice(this.state.final_price)), console.log(this.state, \"whole state\"), console.log(this.props.base_price, \"base price\")})\n        break;\n      case \"\":\n        this.setState({\n          validationCodeMessage: \"Debes escribir un código\",\n          validationCode: false\n        })\n        break;\n      default:\n        this.setState({\n          validationCodeMessage: \"Código inválido\",\n          validationCode: false\n        })\n        break;\n    }\n  }\n\n  render(){\n    return(\n      <React.Fragment>\n          <label>\n            <input className=\"couponValidationForm\" type=\"text\" name=\"name\" placeholder=\"Código de descuento\" onChange={(e) => this.handleChange(e)} />\n          </label>\n          <button className=\"button\" title=\"Aplicar\" onClick={(e) => this.handleClick(e)} />\n          <p>{this.state.validationCodeMessage}</p>\n        <style jsx>\n        {`\n          .button{\n            width: 5em;\n            height: 4em;\n            color: beige;\n            font-weight: bold;\n            background-color: #157be4;\n            border-color: #157be4;\n            border-width: 0;\n          }\n          .couponValidationForm{\n            height: 4em;\n            border-width: 1px;\n            padding: 0 0 0 1em;\n          }\n        `}\n       </style>\n      </React.Fragment>\n    )\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    basePrice: state.productCart.base_price\n  }\n}\n\nexport default connect(mapStateToProps)(Discount);"]},"metadata":{},"sourceType":"module"}