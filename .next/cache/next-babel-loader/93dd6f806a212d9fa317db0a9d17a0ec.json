{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setDiscount, setFinalPrice } from '../store';\n\nvar Discount =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Discount, _React$Component);\n\n  function Discount(props) {\n    var _this;\n\n    _classCallCheck(this, Discount);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Discount).call(this, props));\n    _this.state = {\n      input: \"\",\n      validationCode: false,\n      validationCodeMessage: \"\",\n      discountPercentage: 0,\n      final_price: 0,\n      amount_discounted: 0\n    };\n    return _this;\n  }\n\n  _createClass(Discount, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState({\n        input: e.target.value\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      var _this2 = this;\n\n      var discountPercentage = this.state.discountPercentage;\n      var basePrice = this.props.basePrice;\n      var dispatch = this.props.dispatch;\n\n      switch (this.state.input) {\n        case \"courseit2019\":\n          this.setState({\n            validationCodeMessage: \"Código aplicado!\",\n            validationCode: true,\n            discountPercentage: 10,\n            amount_discounted: discountPercentage * basePrice / 100,\n            final_price: basePrice - this.state.amount_discounted\n          }, function () {\n            dispatch(setDiscount(_this2.state.discountPercentage), dispatch(setFinalPrice(_this2.state.final_price)), console.log(_this2.state, \"whole state\"));\n          });\n          break;\n\n        case \"\":\n          this.setState({\n            validationCodeMessage: \"Debes escribir un código\",\n            validationCode: false\n          });\n          break;\n\n        default:\n          this.setState({\n            validationCodeMessage: \"Código inválido\",\n            validationCode: false\n          });\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(React.Fragment, null, __jsx(\"label\", {\n        className: \"jsx-3536665263\"\n      }, __jsx(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"C\\xF3digo de descuento\",\n        onChange: function onChange(e) {\n          return _this3.handleChange(e);\n        },\n        className: \"jsx-3536665263\" + \" \" + \"couponValidationForm\"\n      })), __jsx(\"button\", {\n        title: \"Aplicar\",\n        onClick: function onClick(e) {\n          return _this3.handleClick(e);\n        },\n        className: \"jsx-3536665263\" + \" \" + \"button\"\n      }), __jsx(\"p\", {\n        className: \"jsx-3536665263\"\n      }, this.state.validationCodeMessage), __jsx(_JSXStyle, {\n        id: \"3536665263\"\n      }, \".button.jsx-3536665263{width:5em;height:4em;color:beige;font-weight:bold;background-color:#157be4;border-color:#157be4;border-width:0;}.couponValidationForm.jsx-3536665263{height:4em;border-width:1px;padding:0 0 0 1em;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3p4bHRybi9Eb2N1bWVudHMvY29kZS9jb3Vyc2VpdC9lY29tbWVyY2UvY29tcG9uZW50cy9kaXNjb3VudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErRFMsQUFHdUIsQUFTQyxVQVJBLENBU00sVUFSTCxPQVNNLEtBUkQsYUFTbkIsSUFSMkIseUJBQ0oscUJBQ04sZUFDakIiLCJmaWxlIjoiL2hvbWUvenhsdHJuL0RvY3VtZW50cy9jb2RlL2NvdXJzZWl0L2Vjb21tZXJjZS9jb21wb25lbnRzL2Rpc2NvdW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IHNldERpc2NvdW50LCBzZXRGaW5hbFByaWNlIH0gZnJvbSAnLi4vc3RvcmUnO1xuXG5cbmNsYXNzIERpc2NvdW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlucHV0OiBcIlwiLFxuICAgICAgdmFsaWRhdGlvbkNvZGU6IGZhbHNlLFxuICAgICAgdmFsaWRhdGlvbkNvZGVNZXNzYWdlOiBcIlwiLFxuICAgICAgZGlzY291bnRQZXJjZW50YWdlOiAwLFxuICAgICAgZmluYWxfcHJpY2U6IDAsXG4gICAgICBhbW91bnRfZGlzY291bnRlZDogMFxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNoYW5nZShlKXtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlucHV0OiBlLnRhcmdldC52YWx1ZVxuICAgIH0pXG4gIH1cbiAgXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIGNvbnN0IGRpc2NvdW50UGVyY2VudGFnZSA9IHRoaXMuc3RhdGUuZGlzY291bnRQZXJjZW50YWdlO1xuICAgIGNvbnN0IGJhc2VQcmljZSA9IHRoaXMucHJvcHMuYmFzZVByaWNlO1xuICAgIGNvbnN0IHtkaXNwYXRjaH0gPSB0aGlzLnByb3BzXG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLmlucHV0KSB7XG4gICAgICBjYXNlIFwiY291cnNlaXQyMDE5XCI6XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHZhbGlkYXRpb25Db2RlTWVzc2FnZTogXCJDw7NkaWdvIGFwbGljYWRvIVwiLFxuICAgICAgICAgIHZhbGlkYXRpb25Db2RlOiB0cnVlLFxuICAgICAgICAgIGRpc2NvdW50UGVyY2VudGFnZTogMTAsXG4gICAgICAgICAgYW1vdW50X2Rpc2NvdW50ZWQ6IGRpc2NvdW50UGVyY2VudGFnZSAqIGJhc2VQcmljZSAvIDEwMCxcbiAgICAgICAgICBmaW5hbF9wcmljZTogYmFzZVByaWNlIC0gdGhpcy5zdGF0ZS5hbW91bnRfZGlzY291bnRlZFxuICAgICAgICB9LCAoKSA9PiB7ZGlzcGF0Y2goc2V0RGlzY291bnQodGhpcy5zdGF0ZS5kaXNjb3VudFBlcmNlbnRhZ2UpLCBkaXNwYXRjaChzZXRGaW5hbFByaWNlKHRoaXMuc3RhdGUuZmluYWxfcHJpY2UpKSwgY29uc29sZS5sb2codGhpcy5zdGF0ZSwgXCJ3aG9sZSBzdGF0ZVwiKSl9KVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdmFsaWRhdGlvbkNvZGVNZXNzYWdlOiBcIkRlYmVzIGVzY3JpYmlyIHVuIGPDs2RpZ29cIixcbiAgICAgICAgICB2YWxpZGF0aW9uQ29kZTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB2YWxpZGF0aW9uQ29kZU1lc3NhZ2U6IFwiQ8OzZGlnbyBpbnbDoWxpZG9cIixcbiAgICAgICAgICB2YWxpZGF0aW9uQ29kZTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCl7XG4gICAgcmV0dXJuKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJjb3Vwb25WYWxpZGF0aW9uRm9ybVwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm5hbWVcIiBwbGFjZWhvbGRlcj1cIkPDs2RpZ28gZGUgZGVzY3VlbnRvXCIgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLmhhbmRsZUNoYW5nZShlKX0gLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgdGl0bGU9XCJBcGxpY2FyXCIgb25DbGljaz17KGUpID0+IHRoaXMuaGFuZGxlQ2xpY2soZSl9IC8+XG4gICAgICAgICAgPHA+e3RoaXMuc3RhdGUudmFsaWRhdGlvbkNvZGVNZXNzYWdlfTwvcD5cbiAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgICAgICAgICAuYnV0dG9ue1xuICAgICAgICAgICAgd2lkdGg6IDVlbTtcbiAgICAgICAgICAgIGhlaWdodDogNGVtO1xuICAgICAgICAgICAgY29sb3I6IGJlaWdlO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTU3YmU0O1xuICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMTU3YmU0O1xuICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuY291cG9uVmFsaWRhdGlvbkZvcm17XG4gICAgICAgICAgICBoZWlnaHQ6IDRlbTtcbiAgICAgICAgICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgICAgICAgICAgcGFkZGluZzogMCAwIDAgMWVtO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKXtcbiAgcmV0dXJuIHtcbiAgICBiYXNlUHJpY2U6IHN0YXRlLnByb2R1Y3RDYXJ0LmJhc2VfcHJpY2VcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoRGlzY291bnQpOyJdfQ== */\\n/*@ sourceURL=/home/zxltrn/Documents/code/courseit/ecommerce/components/discount.js */\"));\n    }\n  }]);\n\n  return Discount;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    basePrice: state.productCart.base_price\n  };\n}\n\nexport default connect(mapStateToProps)(Discount);","map":{"version":3,"sources":["/home/zxltrn/Documents/code/courseit/ecommerce/components/discount.js"],"names":["React","connect","setDiscount","setFinalPrice","Discount","props","state","input","validationCode","validationCodeMessage","discountPercentage","final_price","amount_discounted","e","setState","target","value","basePrice","dispatch","console","log","handleChange","handleClick","Component","mapStateToProps","productCart","base_price"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux'\nimport { setDiscount, setFinalPrice } from '../store';\n\n\nclass Discount extends React.Component {\n  constructor(props){\n    super(props)\n\n    this.state = {\n      input: \"\",\n      validationCode: false,\n      validationCodeMessage: \"\",\n      discountPercentage: 0,\n      final_price: 0,\n      amount_discounted: 0\n    }\n  }\n\n  handleChange(e){\n    this.setState({\n      input: e.target.value\n    })\n  }\n  \n  handleClick() {\n    const discountPercentage = this.state.discountPercentage;\n    const basePrice = this.props.basePrice;\n    const {dispatch} = this.props\n    switch (this.state.input) {\n      case \"courseit2019\":\n        this.setState({\n          validationCodeMessage: \"Código aplicado!\",\n          validationCode: true,\n          discountPercentage: 10,\n          amount_discounted: discountPercentage * basePrice / 100,\n          final_price: basePrice - this.state.amount_discounted\n        }, () => {dispatch(setDiscount(this.state.discountPercentage), dispatch(setFinalPrice(this.state.final_price)), console.log(this.state, \"whole state\"))})\n        break;\n      case \"\":\n        this.setState({\n          validationCodeMessage: \"Debes escribir un código\",\n          validationCode: false\n        })\n        break;\n      default:\n        this.setState({\n          validationCodeMessage: \"Código inválido\",\n          validationCode: false\n        })\n        break;\n    }\n  }\n\n  render(){\n    return(\n      <React.Fragment>\n          <label>\n            <input className=\"couponValidationForm\" type=\"text\" name=\"name\" placeholder=\"Código de descuento\" onChange={(e) => this.handleChange(e)} />\n          </label>\n          <button className=\"button\" title=\"Aplicar\" onClick={(e) => this.handleClick(e)} />\n          <p>{this.state.validationCodeMessage}</p>\n        <style jsx>\n        {`\n          .button{\n            width: 5em;\n            height: 4em;\n            color: beige;\n            font-weight: bold;\n            background-color: #157be4;\n            border-color: #157be4;\n            border-width: 0;\n          }\n          .couponValidationForm{\n            height: 4em;\n            border-width: 1px;\n            padding: 0 0 0 1em;\n          }\n        `}\n       </style>\n      </React.Fragment>\n    )\n  }\n}\n\nfunction mapStateToProps(state){\n  return {\n    basePrice: state.productCart.base_price\n  }\n}\n\nexport default connect(mapStateToProps)(Discount);"]},"metadata":{},"sourceType":"module"}